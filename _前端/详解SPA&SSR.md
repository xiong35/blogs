

# 详解SPA&SSR

## SPA

### 普通SPA

// TODO 补图

- 特点: 一次性请求所有 js 文件, 只进行一次请求, 在点击某个链接进行跳转时修改 url
- 局限
  - 首屏加载速度慢, 因为一次性请求了整个网站的js
  - seo不友好, 因为本质上网页里是全空的, 只有 script 标签, 就算搜索引擎在 seo 时能加载js, 也只能加载出首页, 绝大多数页面无法参与 seo.
  - 重新打开界面或者刷新后会 404, 因为浏览器会根据当前 url 请求服务器上的资源, 而如果不做配置的话服务器上没有这个 url 对应的界面(实际上只有 index.html 一个界面)

### 改进过的 SPA

// TODO 补图

相比普通 spa, 添加了 nginx 配置和 chunk split, 前者通过在后端进行资源映射解决 404 问题, 后者通过拆分 js, 在需要某个界面时发送一次网络请求获取渲染此界面的 js.

## 生成静态网页

// TODO 补图

运用 [next](https://nextjs.org/)(react) 或者 [nuxt](https://zh.nuxtjs.org/)(vue) 框架等, 将界面渲染成**多个 html 文件**

有利于 seo, 不存在 404 的问题, 但是界面还是静态的, 如果是博客网站之类的需要动态添加的应用, 还是无法很好满足需求

## SSR

运用上述框架, 额外启动一个后端服务, 利用此服务, 动态生成完整的 html 界面 // TODO
