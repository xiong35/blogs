
# 跨平台方案比对

## 什么是跨平台 & 为什么需要它

我们知道现在主流的手机系统有 ios 和 安卓两种, 这两个系统里用的软件
开发起来使用的是两种不同的编程语言, 传统方式下想做一个 app 并在苹果安卓都
上线的过程是这样的

1. 招两组开发人员分别负责苹果和安卓的开发
2. 设计画出同一份设计图, 后端写出同一份接口
3. 两边都开发完成后在两个平台分别上线

假如产品的功能需要修改

1. 将两边的代码都进行修改
2. 分别部署上线

可见, 这种开发模式的人力成本是较大的(需要两组开发人员)

大家迫切的需要一种方案能实现一处开发, 处处运行  
这种方案统称为跨平台技术  
使用这种技术开发出来的产品仅需要一组开发人员, 维护起来也更加轻松

## 常见跨平台方案

- 小程序
- 网页
- web view
- flutter / react native

### 网页

开发层面, 使用最通用的 js 进行开发即可(当然也可以使用成熟而强大的社区工具). js 可以运行在安卓或苹果的浏览器上. 同时还有一个优点在于应用需要更新时只需要自行修改代码而不用进行审核

![web](http://blog.xiong35.cn/cross-platform/web.png)

- 性能: 优, 浏览器的性能较好
- 功能: 弱, 浏览器只能使用很有限的系统功能(如不能进行消息推送等)
- 开发难度: 低
- feature: 不用审核即可更新

### web view

开发层面, 应用主体使用最通用的 js 进行开发即可. 同时需要在苹果和安卓端各自编写一个**壳**, 两者都使用 web view 技术, 使app可以渲染网页(可理解为在原生app里内嵌了一个浏览器).

![web view](http://blog.xiong35.cn/cross-platform/web-view.png)

- 性能: 较差, web view 的性能比浏览器的性能差一些
- 功能: 较强, 此方案可以调用一部分 web view 提供的系统功能(比如说进行消息推送)
- 开发难度: 低
- feature: 不用审核即可更新

### 小程序

开发层面, 使用微信自研的一套代码体系进行开发, 借助*微信*这个中间层, 同一份代码只需要运行在微信上即可, 微信对不同的系统做了处理

![mini-app](http://blog.xiong35.cn/cross-platform/mini-app.png)

- 性能: 差, 很容易出现卡顿
- 功能: 较强, 微信提供了较多的系统功能
- 开发难度: 不大, 但是恶心. 微信整个开发社区和文档都相当恶心

### flutter / react native

> 以 flutter 为例进行讲解

开发层面, 使用 flutter 自研的一套代码体系进行开发, 借助 flutter 将这种代码分别**编译**为苹果和安卓系统所支持的代码, 再对代码进行编译以生成两个平台的安装包

![flutter](http://blog.xiong35.cn/cross-platform/flutter.png)

- 性能: 优, 因为本质上就是原生 app
- 功能: 较强, flutter 提供了较多两个系统兼有系统功能, 但是有些功能只有一边系统有, flutter 就不能进行统一的调用, 需要 hack 一下
- 开发难度: 较大, 需要学习整个 flutter 体系, 同时中文文档支持度不高, 社区工具较多, 但还是有所欠缺

