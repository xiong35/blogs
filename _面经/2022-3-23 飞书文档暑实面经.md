# 2022-3-23 é£ä¹¦æ–‡æ¡£æš‘å®é¢ç»

## ä¸€é¢

1. **æœ‰æ²¡æœ‰é‡åˆ°è¿‡ Google éƒ½æŸ¥ä¸åˆ°çš„é—®é¢˜**: å†™ç‹¼äººæ€çš„æ—¶å€™åŠ¨æ€æ¸²æŸ“æŒ‰é’®, ä½¿ç”¨ vue3 çš„ `h` å‡½æ•°, æ‰¾ä¸åˆ°ç›¸å…³æ–‡ç« , ç›´åˆ°ç¿»æºç æ‰ææ¸…æ¥š
2. **CPU æœ‰å‡ çº§ç¼“å­˜**: ç­”äº†å¿«è¡¨å’Œæ™®é€šç¼“å­˜
3. **å¦‚ä½•åˆ¤æ–­é“¾è¡¨æœ‰æ²¡æœ‰ç¯**: ä¸€å¼€å§‹è¯´äº†åŒæŒ‡é’ˆçš„åšæ³•, è¿½é—®**å¦‚ä½•ç”¨ç¼“å­˜çš„æ€æƒ³å®ç°**, ç­”: ç”¨ `WeakSet` å­˜é‡åˆ°è¿‡çš„èŠ‚ç‚¹, å¦‚æœå‡ºç°é‡å¤çš„è¯´æ˜æœ‰ç¯

   ```ts
   type ListNode = {
     val: number;
     next: ListNode;
   } | null;

   function hasLoop(node: ListNode): boolean {
     const set = new WeakSet<ListNode>();

     while (node) {
       if (set.has(node)) return true;
       set.add(node);
       node = node.next;
     }

     return false;
   }
   ```

4. **å®ç°æ·±æ‹·è´, è¦å¤„ç†å¾ªç¯å¼•ç”¨, ä½¿ç”¨ä¸Šè¿°ç¼“å­˜æ€æƒ³**: ä»£ç å¦‚ä¸‹ ğŸ‘‡, é—®äº†è¦ä¸è¦å¤„ç† function å’Œ Symbol, é¢è¯•å®˜è¯´æ—¢ç„¶ä½ è¯´äº†è¯´æ˜ä½ æ˜¯æ‡‚çš„, å°±ä¸å†™äº†

   ```ts
   function deepClone(object: any) {
     if (typeof object !== "object" || !object) {
       return object;
     }

     const objectMap = new WeakMap<object, object>();

     function clone(o: any) {
       if (typeof o !== "object" || !o) {
         return o;
       }
       if (objectMap.has(o)) return objectMap.get(o);

       const newObject = {};

       for (const key in o) {
         const newVal = clone(o[key]);
         objectMap.set(o[key], newVal);
         newObject[key] = newVal;
       }

       return newObject;
     }

     return clone(object);
   }
   ```

5. **äºŒå‰æ ‘çš„æœ€å¤§æ·±åº¦**: ä»£ç å¦‚ä¸‹ ğŸ‘‡

   ```ts
   type Tree = {
     val: number;
     left: Tree;
     right: Tree;
   } | null;

   function maxDepth(root: Tree): number {
     if (!root) return 0;

     const leftDepth = maxDepth(root.left);
     const rightDepth = maxDepth(root.right);

     return Math.max(leftDepth, rightDepth) + 1;
   }
   ```

6. **è®²è®² react fiber æ¶æ„**: å·®ä¸å¤šè®²å‡ºæ¥äº†
7. **æ‰‹å†™ä¸€ä¸‹ fiber ä¸­çš„æ—¶é—´è°ƒåº¦æ–¹æ³•**: ä¼ªä»£ç å¦‚ä¸‹ ğŸ‘‡

   ```ts
   const tasks = [];

   function call(timeleft = 16) {
     if (timeleft <= 0) {
       // ...
       return setTimeout(call, 0);
     }
     const start = Date.now();
     tasks.shift()();
     const end = Date.now();

     call(timeleft - (end - start));
   }
   ```

8. **è®²è®² koa çš„æ´‹è‘±æ¶æ„**: è®²å‡ºæ¥äº†, è™½ç„¶è¯­è¨€ç»„ç»‡æ¯”è¾ƒæ··ä¹±(
