# 头条实习面经 2021-11-26

> 关键词: 面经

## 一面

1. **讲讲项目经历**, 重点问了登录鉴权和 token 存储的问题
2. **怎么设计一个水印系统**, 我回答了 div 标签, 背景图, canvas 等方案, 同时说可以在代码中加一个无
   限循环的 debugger 来防止在控制台直接更改, 但是还是可以通过禁用 JS 来规避. 后续查找到的较完整的方
   案: [掘金: 前端水印实现方案](https://juejin.cn/post/6964357725652254734)
3. **css 中给 absolute 元素加 margin 的问题**, 没仔细研究过, 后续总结: [给 absolute 元素加 margin 的问题](http://www.xiong35.cn/blog3.0/post/61a4e9309fcb28be82440cc5)
4. **css borderbox 问题**, 较为简单
5. **手写一个只显示在下方的 css 阴影**, `box-shadow: 0px 2px 3px -3px #0002`. 主要就是看看语法熟练度我感觉, 阴影详细用法
   见: [MDN box-shadow](https://developer.mozilla.org/zh-CN/docs/Web/CSS/box-shadow)
6. **构造一个长度为 n 的数组, 其中的每一项为其下标序号+1(数字), 尽可能多的列举你知道的方法**

   ```js
   // 直接 `new Array(5)` 得到的数组不能用 map 等方法遍历, 其中每一项为 `empty item`
   const a = Array.from({ length: 5 }, (_, i) => i + 1);
   const b = new Array(5).fill(0).map((_, i) => i + 1);
   // 在提示下写出了这个方案
   const c = [...new Array(5)].map((_, i) => i + 1);
   ```

7. **讲讲数组方法和他们的用法**, 基本把所有方法都问了一遍, 还好我写的比较多都答上来了
8. **实现随机打乱数组的函数**, [经典 shuffle 算法](https://cloud.tencent.com/developer/article/1462951), 没问题
9. **手写清除多叉树中不满足要求的节点及其子节点**, 没问题
10. 算法题:

```txt
给你一个二进制数组 nums ，你需要从中删掉一个元素。请你在删掉元素的结果数组中，返回最长的且只包含 1 的非空子数组的长度.​
如果不存在这样的子数组，请返回 0 。​

提示 1：输入：nums = [1,1,0,1] 输出：3​
解释：删掉位置 2 的数后，[1,1,1] 包含 3 个 1 。​
示例 2：输入：nums = [0,1,1,1,0,1,1,0,1]输出：5​
解释：删掉位置 4 的数字后，[0,1,1,1,1,1,0,1] 的最长全 1 子数组为 [1,1,1,1,1] 。​
示例 3：输入：nums = [1,1,1] 输出：2​
解释：你必须要删除一个元素。​
示例 4：输入：nums = [1,1,0,0,1,1,1,0,1] 输出：4​
示例 5：输入：nums = [0,0,0] 输出：0​
示例 6：输入：nums = [0,0,1,1,1,1,1,0,0,1] ​

提示：1 <= nums.length <= 10^5，nums[i] 要么是 0 要么是 1 。​​​
```

思路有点混乱没写出来 qwq, 后续:

```js
// a 存中间有一个“非1”的和，b 存连续1的和，遇 1 两数自增，遇“非1” a=b;b=0。扫描过程保存最大的 a 值
function longestSubarray(nums) {
  let ret = 0;
  let a = 0;
  let b = 0;
  let n = nums.length;
  for (let i = 0; i < n; ++i) {
    if (nums[i] == 1) {
      ++a;
      ++b;
      ret = Math.max(ret, a);
    } else {
      a = b;
      b = 0;
    }
  }
  if (ret === n) ret--;
  return ret;
}
```

## 二面

1. **讲项目经历**
2. **手写一个快排**, 有点磕巴但还是写出来了, 写得不够好, 又问我怎么优化现在的算法, 我就跟他讲了讲改进方案
   1. **讲讲快排在什么情况下表现较差**, 在给定数组已经较为有序的时候
   2. **讲讲怎么改进其这个缺点**, 将数组打乱即可
   3. **讲讲怎么打乱, 什么叫打乱好了**, 答了[经典 shuffle 算法](https://cloud.tencent.com/developer/article/1462951)
3. **讲讲怎么实现一个四则运算计算器(解析一个算数字符串)**, 讲了可以遍历一遍构建一颗抽象语法树, 再
   遍历这棵树得到答案, 追问还有别的方案吗, 答了可以利用逆波兰表达式+栈来实现, 但是本质和构建树是一样的

> 后续因为我的实习时间太短中断了流程 qwq, 转到上海字节那边去了. 下次面试参见: [抖音音乐实习面经 2021-12-1](https://github.com/xiong35/blogs/blob/master/_%E9%9D%A2%E7%BB%8F/%E6%8A%96%E9%9F%B3%E9%9F%B3%E4%B9%90%E5%AE%9E%E4%B9%A0%E9%9D%A2%E7%BB%8F%202021-12-1.md)
